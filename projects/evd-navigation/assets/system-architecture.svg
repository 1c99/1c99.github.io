<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 480" style="background:#1e1e1e">
  <style>
    .box { fill: none; stroke: #888; stroke-width: 1.5; }
    .box-fill { fill: #2d2d2d; stroke: #888; stroke-width: 1.5; }
    .text { font-family: 'Courier New', monospace; fill: #ccc; font-size: 12px; }
    .text-title { font-family: 'Courier New', monospace; fill: #ccc; font-size: 14px; font-weight: bold; }
    .text-small { font-family: 'Courier New', monospace; fill: #888; font-size: 10px; }
    .line { stroke: #888; stroke-width: 1.5; fill: none; }
    .arrow { fill: #888; }
  </style>

  <!-- Input Sources -->
  <rect x="40" y="20" width="670" height="55" rx="3" class="box-fill"/>
  <text x="375" y="40" text-anchor="middle" class="text-title">INPUT SOURCES</text>
  <text x="120" y="60" text-anchor="middle" class="text-small">CT DICOM</text>
  <text x="280" y="60" text-anchor="middle" class="text-small">STL Mesh</text>
  <text x="440" y="60" text-anchor="middle" class="text-small">ASC/CSV</text>
  <text x="600" y="60" text-anchor="middle" class="text-small">iPad LiDAR</text>

  <!-- Arrows down -->
  <line x1="120" y1="75" x2="120" y2="95" class="line"/>
  <line x1="280" y1="75" x2="280" y2="95" class="line"/>
  <line x1="440" y1="75" x2="440" y2="95" class="line"/>
  <line x1="600" y1="75" x2="600" y2="95" class="line"/>
  <line x1="120" y1="95" x2="600" y2="95" class="line"/>
  <line x1="375" y1="95" x2="375" y2="115" class="line"/>
  <polygon points="375,125 370,115 380,115" class="arrow"/>

  <!-- Preprocessing -->
  <rect x="100" y="130" width="550" height="70" rx="3" class="box-fill"/>
  <text x="375" y="150" text-anchor="middle" class="text-title">PREPROCESSING</text>
  <text x="130" y="175" class="text-small">* DICOM decompression</text>
  <text x="130" y="190" class="text-small">* NIfTI conversion</text>
  <text x="380" y="175" class="text-small">* Coordinate normalization</text>
  <text x="380" y="190" class="text-small">* Outlier removal (Z-score)</text>

  <!-- Arrow down branching -->
  <line x1="375" y1="200" x2="375" y2="220" class="line"/>
  <line x1="150" y1="220" x2="600" y2="220" class="line"/>
  <line x1="150" y1="220" x2="150" y2="240" class="line"/>
  <line x1="375" y1="220" x2="375" y2="240" class="line"/>
  <line x1="600" y1="220" x2="600" y2="240" class="line"/>
  <polygon points="150,250 145,240 155,240" class="arrow"/>
  <polygon points="375,250 370,240 380,240" class="arrow"/>
  <polygon points="600,250 595,240 605,240" class="arrow"/>

  <!-- Three processing boxes -->
  <rect x="60" y="255" width="180" height="85" rx="3" class="box-fill"/>
  <text x="150" y="280" text-anchor="middle" class="text">2D Landmark</text>
  <text x="150" y="295" text-anchor="middle" class="text">Detection</text>
  <text x="80" y="320" class="text-small">* MediaPipe</text>
  <text x="80" y="333" class="text-small">* FaceMesh</text>

  <rect x="285" y="255" width="180" height="85" rx="3" class="box-fill"/>
  <text x="375" y="280" text-anchor="middle" class="text">3D Registration</text>
  <text x="375" y="295" text-anchor="middle" class="text">Pipeline</text>
  <text x="305" y="320" class="text-small">* Kabsch</text>
  <text x="305" y="333" class="text-small">* ICP</text>

  <rect x="510" y="255" width="180" height="85" rx="3" class="box-fill"/>
  <text x="600" y="280" text-anchor="middle" class="text">Visualization</text>
  <text x="600" y="295" text-anchor="middle" class="text">Engine</text>
  <text x="530" y="320" class="text-small">* PyVista</text>
  <text x="530" y="333" class="text-small">* Plotly</text>

  <!-- Arrows down merging -->
  <line x1="150" y1="340" x2="150" y2="360" class="line"/>
  <line x1="375" y1="340" x2="375" y2="360" class="line"/>
  <line x1="600" y1="340" x2="600" y2="360" class="line"/>
  <line x1="150" y1="360" x2="600" y2="360" class="line"/>
  <line x1="375" y1="360" x2="375" y2="380" class="line"/>
  <polygon points="375,390 370,380 380,380" class="arrow"/>

  <!-- Outputs -->
  <rect x="100" y="395" width="550" height="70" rx="3" class="box-fill"/>
  <text x="375" y="415" text-anchor="middle" class="text-title">OUTPUTS</text>
  <text x="130" y="440" class="text-small">* 4x4 Transformation Matrices</text>
  <text x="130" y="455" class="text-small">* Aligned Point Clouds</text>
  <text x="420" y="440" class="text-small">* Registration Error Metrics</text>
  <text x="420" y="455" class="text-small">* Interactive 3D Visualizations</text>
</svg>
